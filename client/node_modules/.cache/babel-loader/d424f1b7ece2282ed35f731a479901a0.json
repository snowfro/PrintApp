{"ast":null,"code":"import _classCallCheck from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Erick/Desktop/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Welcome from\"./welcome\";import PriceList from\"./priceList\";var WelcomeScreen=/*#__PURE__*/function(_React$Component){_inherits(WelcomeScreen,_React$Component);function WelcomeScreen(props){var _this;_classCallCheck(this,WelcomeScreen);_this=_possibleConstructorReturn(this,_getPrototypeOf(WelcomeScreen).call(this,props));_this.state={stackId:null};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleAddressChange=_this.handleAddressChange.bind(_assertThisInitialized(_this));_this.handleCreditSendClick=_this.handleCreditSendClick.bind(_assertThisInitialized(_this));_this.handleCreditSendClick2=_this.handleCreditSendClick2.bind(_assertThisInitialized(_this));_this.handleCreditManagerAddressChange=_this.handleCreditManagerAddressChange.bind(_assertThisInitialized(_this));_this.handleCreditManagerCreditsToGive=_this.handleCreditManagerCreditsToGive.bind(_assertThisInitialized(_this));return _this;}_createClass(WelcomeScreen,[{key:\"handleCreditSendClick\",value:function handleCreditSendClick(){var _this$props=this.props,drizzle=_this$props.drizzle,drizzleState=_this$props.drizzleState;var contract=drizzle.contracts.PunkPrintRegistryMinter;var stackId=contract.methods['giveCredit'].cacheSend(this.props.creditToAddress,{from:drizzleState.accounts[0],value:0});this.setState({stackId:stackId});}},{key:\"handleCreditSendClick2\",value:function handleCreditSendClick2(){var _this$props2=this.props,drizzle=_this$props2.drizzle,drizzleState=_this$props2.drizzleState;var contract=drizzle.contracts.PunkPrintRegistryMinter;var stackId=contract.methods['setManagerCredits'].cacheSend(this.props.creditManagerAddressToCredit,this.props.creditManagerCreditsToGive,{from:drizzleState.accounts[0],value:0});this.setState({stackId:stackId});}},{key:\"getStatus\",value:function getStatus(){var _this$props$drizzleSt=this.props.drizzleState,transactions=_this$props$drizzleSt.transactions,transactionStack=_this$props$drizzleSt.transactionStack;// get the transaction hash using our saved `stackId`\nvar txHash=transactionStack[this.state.stackId];// if transaction hash does not exist, don't display anything\nif(!txHash)return null;if(transactions[txHash]){console.log(transactions[txHash].status);return transactions[txHash].status;}}},{key:\"handleClick\",value:function handleClick(){this.props.handleWelcomeChange(1);}},{key:\"handleAddressChange\",value:function handleAddressChange(event){this.props.setCreditToAddress(event.target.value);}},{key:\"handleCreditManagerAddressChange\",value:function handleCreditManagerAddressChange(event){this.props.setCreditManagerAddressToCredit(event.target.value);}},{key:\"handleCreditManagerCreditsToGive\",value:function handleCreditManagerCreditsToGive(event){this.props.setCreditManagerCreditsToGive(event.target.value);}},{key:\"render\",value:function render(){var isOwner;var creditsToUse=this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];var creditsToGive=this.props.drizzleState.contracts.PunkPrintRegistryMinter.managerAddressToCreditsToGive[this.props.creditsToGiveKey];var owner1=this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner1[this.props.owner1Key];var owner2=this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner2[this.props.owner2Key];if(creditsToUse&&creditsToGive){console.log(creditsToUse.value,creditsToGive.value);}if(owner1&&owner2){isOwner=this.props.drizzleState.accounts[0]===owner1.value||this.props.drizzleState.accounts[0]===owner2.value;console.log('isOwner? '+isOwner);}var status=this.getStatus();console.log('to: '+this.props.creditToAddress);return React.createElement(\"div\",null,React.createElement(\"div\",null,isOwner&&React.createElement(\"div\",{style:{background:\"cyan\"}},React.createElement(\"h1\",null,\"Assign Credits to Manager\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",placeholder:\"Manager Address\",onChange:this.handleCreditManagerAddressChange}),React.createElement(\"input\",{type:\"number\",placeholder:\"Credits to give\",style:{width:50},onChange:this.handleCreditManagerCreditsToGive}),React.createElement(\"button\",{className:\"bigButton2\",onClick:this.handleCreditSendClick2,disabled:status===\"pending\"?true:false},!status?'Send':status===\"success\"?'Success! Send another.':status),React.createElement(\"br\",null),React.createElement(\"br\",null)),creditsToGive&&creditsToGive.value>0&&React.createElement(\"div\",{style:{background:\"cyan\"}},React.createElement(\"h1\",null,\"You have credits to give!\"),React.createElement(\"h4\",null,\"Paste recipient address below and click \\\"Send\\\"\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",id:\"addressField\",onChange:this.handleAddressChange}),React.createElement(\"button\",{className:\"bigButton2\",onClick:this.handleCreditSendClick,disabled:status===\"pending\"?true:false},!status?'Send':status===\"success\"?'Success! Send another.':status),React.createElement(\"br\",null),React.createElement(\"br\",null)),creditsToUse&&creditsToUse.value>0&&React.createElement(\"div\",{style:{background:\"cyan\"}},React.createElement(\"h1\",null,\"You have a credit to use! \"),React.createElement(\"h4\",null,\"When you get to the purchase page you'll be able to use this credit towards a free print or NFC.\"),React.createElement(\"br\",null),React.createElement(\"br\",null))),React.createElement(Welcome,{drizzle:this.props.drizzle,drizzleState:this.props.drizzleState}),React.createElement(\"button\",{onClick:this.handleClick},\"Click Here To Get Started\"),React.createElement(PriceList,{drizzle:this.props.drizzle,drizzleState:this.props.drizzleState}));}}]);return WelcomeScreen;}(React.Component);export default WelcomeScreen;","map":{"version":3,"sources":["/Users/Erick/Desktop/punkprintapp/client/src/welcomeScreen.js"],"names":["React","Welcome","PriceList","WelcomeScreen","props","state","stackId","handleClick","bind","handleAddressChange","handleCreditSendClick","handleCreditSendClick2","handleCreditManagerAddressChange","handleCreditManagerCreditsToGive","drizzle","drizzleState","contract","contracts","PunkPrintRegistryMinter","methods","cacheSend","creditToAddress","from","accounts","value","setState","creditManagerAddressToCredit","creditManagerCreditsToGive","transactions","transactionStack","txHash","console","log","status","handleWelcomeChange","event","setCreditToAddress","target","setCreditManagerAddressToCredit","setCreditManagerCreditsToGive","isOwner","creditsToUse","addressToCreditsToSpend","creditsToUseKey","creditsToGive","managerAddressToCreditsToGive","creditsToGiveKey","owner1","owner1Key","owner2","owner2Key","getStatus","background","width","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Welcome from \"./welcome\";\n\nimport PriceList from \"./priceList\";\n\nclass WelcomeScreen extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {stackId:null};\n    this.handleClick = this.handleClick.bind(this);\n    this.handleAddressChange = this.handleAddressChange.bind(this);\n    this.handleCreditSendClick = this.handleCreditSendClick.bind(this);\n    this.handleCreditSendClick2 = this.handleCreditSendClick2.bind(this);\n    this.handleCreditManagerAddressChange = this.handleCreditManagerAddressChange.bind(this);\n    this.handleCreditManagerCreditsToGive = this.handleCreditManagerCreditsToGive.bind(this);\n\n  }\n\n  handleCreditSendClick(){\n    const {drizzle, drizzleState} = this.props;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    const stackId = contract.methods['giveCredit'].cacheSend(this.props.creditToAddress, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({ stackId });\n  }\n\n  handleCreditSendClick2(){\n    const {drizzle, drizzleState} = this.props;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    const stackId = contract.methods['setManagerCredits'].cacheSend(this.props.creditManagerAddressToCredit, this.props.creditManagerCreditsToGive, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({ stackId });\n  }\n\n  getStatus(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackId];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n  }\n  }\n\n  handleClick(){\n\n  this.props.handleWelcomeChange(1);\n\n  }\n\n  handleAddressChange(event){\n    this.props.setCreditToAddress(event.target.value);\n  }\n\n  handleCreditManagerAddressChange(event){\n    this.props.setCreditManagerAddressToCredit(event.target.value);\n  }\n\n  handleCreditManagerCreditsToGive(event){\n    this.props.setCreditManagerCreditsToGive(event.target.value);\n  }\n\nrender(){\n  let isOwner;\n  const creditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];\n  const creditsToGive = this.props.drizzleState.contracts.PunkPrintRegistryMinter.managerAddressToCreditsToGive[this.props.creditsToGiveKey];\n  const owner1 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner1[this.props.owner1Key];\n  const owner2 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner2[this.props.owner2Key];\n  if(creditsToUse && creditsToGive){\n    console.log(creditsToUse.value, creditsToGive.value);\n  }\n\n  if(owner1 && owner2){\n    isOwner = this.props.drizzleState.accounts[0]===owner1.value || this.props.drizzleState.accounts[0]===owner2.value;\n  console.log('isOwner? '+isOwner);\n  }\n\n    let status = this.getStatus();\n\n  console.log('to: '+this.props.creditToAddress);\n\n\n  return(\n    <div>\n    <div >\n    {isOwner &&\n      <div style = {{background:\"cyan\"}}>\n\n      <h1>Assign Credits to Manager</h1>\n      <br />\n      <input type=\"text\" placeholder = \"Manager Address\" onChange={this.handleCreditManagerAddressChange} />\n      <input type=\"number\" placeholder = \"Credits to give\" style = {{width:50}} onChange={this.handleCreditManagerCreditsToGive} />\n      <button className=\"bigButton2\" onClick={this.handleCreditSendClick2} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n      <br />\n      <br />\n      </div>\n    }\n    {creditsToGive && creditsToGive.value>0 &&\n    <div style = {{background:\"cyan\"}}>\n\n    <h1>You have credits to give!</h1>\n    <h4>Paste recipient address below and click \"Send\"</h4>\n\n    <br />\n    <input type=\"text\" id=\"addressField\" onChange={this.handleAddressChange} /><button className=\"bigButton2\" onClick={this.handleCreditSendClick} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n    <br />\n    <br />\n    </div>\n    }\n    {creditsToUse && creditsToUse.value>0 &&\n    <div style = {{background:\"cyan\"}}>\n\n    <h1>You have a credit to use! </h1>\n    <h4>When you get to the purchase page you'll be able to use this credit towards a free print or NFC.</h4>\n\n    <br />\n    <br />\n\n\n    </div>\n    }\n    </div>\n    <Welcome\n    drizzle={this.props.drizzle}\n    drizzleState={this.props.drizzleState}\n\n    />\n    <button onClick = {this.handleClick}>Click Here To Get Started</button>\n    <PriceList\n    drizzle={this.props.drizzle}\n    drizzleState={this.props.drizzleState}\n    />\n\n    </div>\n  )\n}\n}\n\nexport default WelcomeScreen;\n"]},"metadata":{},"sourceType":"module"}