{"ast":null,"code":"import _classCallCheck from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Erick/Documents/Print Apps/punkprintapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Canvas from'./canvas';import Web3 from'web3';var web3=new Web3(Web3.givenProvider||\"http://localhost:8545\");var Purchase=/*#__PURE__*/function(_React$Component){_inherits(Purchase,_React$Component);function Purchase(props){var _this;_classCallCheck(this,Purchase);_this=_possibleConstructorReturn(this,_getPrototypeOf(Purchase).call(this,props));_this.state={purchaseType:null,shipType:null,stackId:null,creditSale:false,posted:false};_this.handleTypeRadio=_this.handleTypeRadio.bind(_assertThisInitialized(_this));_this.handleShipRadio=_this.handleShipRadio.bind(_assertThisInitialized(_this));_this.handleGoBack=_this.handleGoBack.bind(_assertThisInitialized(_this));_this.handlePurchase=_this.handlePurchase.bind(_assertThisInitialized(_this));_this.handleStartOver=_this.handleStartOver.bind(_assertThisInitialized(_this));return _this;}_createClass(Purchase,[{key:\"handleGoBack\",value:function handleGoBack(){this.props.handleWelcomeChange(-1);}},{key:\"handleStartOver\",value:function handleStartOver(){this.props.handleWelcomeChange(-2);}},{key:\"handleTypeRadio\",value:function handleTypeRadio(event){this.setState({purchaseType:event.target.value});}},{key:\"handleShipRadio\",value:function handleShipRadio(event){this.setState({shipType:event.target.value});}},{key:\"findPrice\",value:function findPrice(){if(this.state.purchaseType===\"Print + NFC\"){if(this.state.shipType===\"Domestic\"){return'pricePerPrintInWei';}else{return'pricePerPrintIntlShipInWei';}}else if(this.state.purchaseType===\"NFC Only\"){if(this.state.shipType===\"Domestic\"){return'pricePerNFCInWei';}else{return'pricePerNFCIntlShipInWei';}}}},{key:\"handlePurchase\",value:function handlePurchase(purchaseType){var stackId;var _this$props=this.props,drizzle=_this$props.drizzle,drizzleState=_this$props.drizzleState;var contract1=drizzle.contracts.PunkPrintRegistry;var contract2=drizzle.contracts.PunkPrintRegistryMinter;var purchaseFunc='';if(purchaseType==='pricePerPrintInWei'||purchaseType==='pricePerPrintIntlShipInWei'){purchaseFunc='purchasePrint';}else if(purchaseType==='pricePerNFCInWei'||purchaseType==='pricePerNFCIntlShipInWei'){purchaseFunc='purchaseNFCOnly';}else{purchaseFunc='purchaseMisc';}console.log(\"type: \"+purchaseType+\" Func: \"+purchaseFunc);var determineAmount=drizzleState.contracts.PunkPrintRegistry[purchaseType];var amountToSend=determineAmount['0x0'].value;console.log(\"sending \"+amountToSend+\"contact \"+this.props.contactMethod+\"Punk \"+this.props.punkId+\"using: \"+purchaseFunc);var creditPurchaseConcat=purchaseFunc+\" | \"+this.props.contactMethod;var creditsToUse=this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];var artCreditsToUse=this.props.drizzleState.contracts.PunkPrintRegistryMinter.artIdToCreditsToSpend[this.props.artCreditsToUse];if(creditsToUse&&creditsToUse.value>0||artCreditsToUse&&artCreditsToUse.value>0){this.setState({creditSale:true});stackId=contract2.methods['mint'].cacheSend(this.props.punkId,creditPurchaseConcat,{from:drizzleState.accounts[0],value:0});}else{stackId=contract1.methods[purchaseFunc].cacheSend(this.props.punkId,this.props.contactMethod,{from:drizzleState.accounts[0],value:amountToSend});}// save the `stackId` for later reference\nthis.setState({stackId:stackId});}},{key:\"getStatus\",value:function getStatus(){var _this$props$drizzleSt=this.props.drizzleState,transactions=_this$props$drizzleSt.transactions,transactionStack=_this$props$drizzleSt.transactionStack;// get the transaction hash using our saved `stackId`\nvar txHash=transactionStack[this.state.stackId];// if transaction hash does not exist, don't display anything\nif(!txHash)return null;if(transactions[txHash]){console.log(transactions[txHash].status);return transactions[txHash].status;}}},{key:\"getTokenId\",value:function getTokenId(){var _this$props$drizzleSt2=this.props.drizzleState,transactions=_this$props$drizzleSt2.transactions,transactionStack=_this$props$drizzleSt2.transactionStack;var txHash=transactionStack[this.state.stackId];if(!txHash)return null;if(transactions[txHash]){if(transactions[txHash].status==='success'){if(this.state.creditSale){var newTokenIdHex=transactions[txHash].receipt.events[0].raw.topics[3];var newTokenId=parseInt(newTokenIdHex,16);console.log('newTokenIdMint: '+newTokenId);if(!this.state.posted){fetch('https://submit-form.com/-uaRdhfKwMjpOndrBC1Rn',{method:'POST',headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Headers\":\"Origin, X-Requested-With, Content-Type, Accept\"},body:JSON.stringify({nft:\"Punk\",contactMethod:this.props.contactMethod,artId:this.props.punkId,purchaseType:this.state.purchaseType,shipType:this.state.shipType,creditSale:true,firstName:this.props.address.firstName,lastName:this.props.address.lastName,address1:this.props.address.address1,address2:this.props.address.address2,city:this.props.address.city,state:this.props.address.stateProv,country:this.props.address.country})}).then(function(result){console.log('data sent');console.log(result);});this.setState({posted:true});}return newTokenId;}else{var _newTokenId=transactions[txHash].receipt.events.Transfer.returnValues[2];console.log('newTokenIdPurchase: '+_newTokenId);if(!this.state.posted){fetch('https://submit-form.com/-uaRdhfKwMjpOndrBC1Rn',{method:'POST',headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Headers\":\"Origin, X-Requested-With, Content-Type, Accept\"},body:JSON.stringify({nft:\"Punk\",contactMethod:this.props.contactMethod,artId:this.props.punkId,purchaseType:this.state.purchaseType,shipType:this.state.shipType,creditSale:false,firstName:this.props.address.firstName,lastName:this.props.address.lastName,address1:this.props.address.address1,address2:this.props.address.address2,city:this.props.address.city,state:this.props.address.stateProv,country:this.props.address.country})}).then(function(result){console.log('data sent');console.log(result);});this.setState({posted:true});}return _newTokenId;}}else{return null;}}}},{key:\"render\",value:function render(){var _this2=this;var contracts=this.props.drizzle.contracts;var PunkPrintRegistry=this.props.drizzleState.contracts.PunkPrintRegistry;var purchaseType=this.findPrice();console.log(contracts);console.log(this.props.drizzleState);//console.log(PunkPrintRegistry);\n//console.log(this.findPrice());\nvar pricePerPrintInWei=PunkPrintRegistry.pricePerPrintInWei['0x0'];var pricePerPrintIntlShipInWei=PunkPrintRegistry.pricePerPrintIntlShipInWei['0x0'];var pricePerNFCInWei=PunkPrintRegistry.pricePerNFCInWei['0x0'];var pricePerNFCIntlShipInWei=PunkPrintRegistry.pricePerNFCIntlShipInWei['0x0'];var pricePerMiscInWei=PunkPrintRegistry.pricePerMiscInWei['0x0'];var pricePerMiscIntlShipInWei=PunkPrintRegistry.pricePerMiscIntlShipInWei['0x0'];var priceObject={pricePerPrintInWei:pricePerPrintInWei,pricePerPrintIntlShipInWei:pricePerPrintIntlShipInWei,pricePerNFCInWei:pricePerNFCInWei,pricePerNFCIntlShipInWei:pricePerNFCIntlShipInWei,pricePerMiscInWei:pricePerMiscInWei,pricePerMiscIntlShipInWei:pricePerMiscIntlShipInWei};//if (this.findPrice()){ console.log(\"being bought: \"+ this.findPrice());}\nvar status=this.getStatus();var tokenId=this.getTokenId();var url=\"http://ppr.artblocks.io/details/\";if(tokenId){url=url+tokenId;}var creditsToUse=this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];var artCreditsToUse=this.props.drizzleState.contracts.PunkPrintRegistryMinter.artIdToCreditsToSpend[this.props.artCreditsToUse];if(creditsToUse){console.log('ctu: '+creditsToUse.value);}if(artCreditsToUse){console.log('art ctu: '+artCreditsToUse.value);}return React.createElement(\"div\",{className:\"container mt-5\"},React.createElement(\"div\",{className:\"jumbotron\"},React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Punk Print Registry Purchase Page\"),React.createElement(\"br\",null),React.createElement(\"h4\",null,React.createElement(\"h4\",null,\"Almost there!\",React.createElement(\"br\",null),\"Now you will choose your purchase options and complete the transaction for punk #\",this.props.punkId,\".\"),React.createElement(\"br\",null)),React.createElement(Canvas,{punkId:this.props.punkId}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"p\",null,\"There are two ways to proceed. You may purchase a 12\\\"x12\\\" (30.5x30.5cm) high quality digital print with attached authentication NFC or if you already have a nice print you can simply buy the NFC sticker for authentications. \"),React.createElement(\"div\",{className:\"alert alert-primary\",role:\"alert\"},React.createElement(\"p\",null,\"Please select one:\"),React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",name:\"purchaseType\",value:\"Print + NFC\",onChange:this.handleTypeRadio}),\"Purchase Print+NFC\"),React.createElement(\"br\",null),React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",name:\"purchaseType\",value:\"NFC Only\",onChange:this.handleTypeRadio}),\"Purchase NFC Only\")),this.state.purchaseType&&React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Purchase Type: \",this.state.purchaseType),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"alert alert-primary\",role:\"alert\"},React.createElement(\"p\",null,\"Now we need to know where this is going. Please select whether you are located in the USA or abroad. Item price will adjust accordingly.\"),React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",name:\"shipType\",value:\"Domestic\",onChange:this.handleShipRadio}),\"Domestic Shipping (within USA)\"),React.createElement(\"br\",null),React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",name:\"shipType\",value:\"International\",onChange:this.handleShipRadio}),\"International Shipping\")),this.state.shipType&&React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Shiping Type: \",this.state.shipType),React.createElement(\"br\",null),React.createElement(\"h4\",null,\"Total: \",creditsToUse&&creditsToUse.value>0||artCreditsToUse&&artCreditsToUse.value>0?'FRE':priceObject[this.findPrice()]&&web3.utils.fromWei(priceObject[this.findPrice()].value.toString(),'ether'),\"\\u039E\"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"alert alert-secondary\",role:\"alert\"},React.createElement(\"b\",null,\"Contact Method: \",this.props.contactMethod),React.createElement(\"br\",null),React.createElement(\"br\",null),\"Shipping to:\",React.createElement(\"br\",null),this.props.address.firstName,\" \",this.props.address.lastName,React.createElement(\"br\",null),this.props.address.address1,React.createElement(\"br\",null),this.props.address.address2&&React.createElement(\"div\",null,this.props.address.address2,React.createElement(\"br\",null)),this.props.address.city,\", \",this.props.address.stateProv,\" \",this.props.address.zip,React.createElement(\"br\",null),this.props.address.country),React.createElement(\"br\",null),React.createElement(\"button\",{className:\"btn btn-success\",disabled:status?true:false,onClick:function onClick(){_this2.handlePurchase(purchaseType);}},status?status:'Purchase'),status==='success'&&React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Congrats!\"),React.createElement(\"h4\",null,\"Your transaction is complete! Please reach out to info@artblocks.io or Snowfro#8886 on Discord using the recorded contact method so we can get your package to you ASAP.\"),React.createElement(\"br\",null),React.createElement(\"h4\",null,\"Your Print Registry TokenId for this transaction is \",tokenId,\". You can visit your authentication page at \",React.createElement(\"a\",{href:url},url),\". Note that the NFC UID will be set manually at time of printing.\"),React.createElement(\"p\",null,\" You will be provided with a tracking number once your package has shipped. Please allow 1-2 weeks for delivery.\")))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:status==='success'?this.handleStartOver:this.handleGoBack},status==='success'?'Start Over':'Go Back'))));}}]);return Purchase;}(React.Component);export default Purchase;","map":{"version":3,"sources":["/Users/Erick/Documents/Print Apps/punkprintapp/client/src/purchase.js"],"names":["React","Canvas","Web3","web3","givenProvider","Purchase","props","state","purchaseType","shipType","stackId","creditSale","posted","handleTypeRadio","bind","handleShipRadio","handleGoBack","handlePurchase","handleStartOver","handleWelcomeChange","event","setState","target","value","drizzle","drizzleState","contract1","contracts","PunkPrintRegistry","contract2","PunkPrintRegistryMinter","purchaseFunc","console","log","determineAmount","amountToSend","contactMethod","punkId","creditPurchaseConcat","creditsToUse","addressToCreditsToSpend","creditsToUseKey","artCreditsToUse","artIdToCreditsToSpend","methods","cacheSend","from","accounts","transactions","transactionStack","txHash","status","newTokenIdHex","receipt","events","raw","topics","newTokenId","parseInt","fetch","method","headers","Accept","body","JSON","stringify","nft","artId","firstName","address","lastName","address1","address2","city","stateProv","country","then","result","Transfer","returnValues","findPrice","pricePerPrintInWei","pricePerPrintIntlShipInWei","pricePerNFCInWei","pricePerNFCIntlShipInWei","pricePerMiscInWei","pricePerMiscIntlShipInWei","priceObject","getStatus","tokenId","getTokenId","url","utils","fromWei","toString","zip","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Canvas from './canvas';\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass Purchase extends React.Component{\n  constructor(props){\n  super(props);\n  this.state = {purchaseType:null, shipType:null, stackId:null, creditSale:false, posted:false}\n  this.handleTypeRadio = this.handleTypeRadio.bind(this);\n  this.handleShipRadio = this.handleShipRadio.bind(this);\n  this.handleGoBack = this.handleGoBack.bind(this);\n  this.handlePurchase = this.handlePurchase.bind(this);\n  this.handleStartOver = this.handleStartOver.bind(this);\n}\n\nhandleGoBack(){\n  this.props.handleWelcomeChange(-1);\n}\n\nhandleStartOver(){\n  this.props.handleWelcomeChange(-2);\n}\n  handleTypeRadio (event){\n    this.setState({purchaseType:event.target.value});\n  }\n\n  handleShipRadio (event){\n    this.setState({shipType:event.target.value});\n  }\n\n  findPrice(){\n    if (this.state.purchaseType === \"Print + NFC\"){\n      if (this.state.shipType === \"Domestic\") {\n        return 'pricePerPrintInWei';\n      } else {\n        return 'pricePerPrintIntlShipInWei'\n      }\n    } else if (this.state.purchaseType === \"NFC Only\") {\n      if (this.state.shipType === \"Domestic\") {\n      return 'pricePerNFCInWei';\n    } else {\n      return 'pricePerNFCIntlShipInWei';\n    }\n  }\n  }\n\n  handlePurchase(purchaseType){\n    let stackId;\n    const { drizzle, drizzleState } = this.props;\n    const contract1 = drizzle.contracts.PunkPrintRegistry;\n    const contract2 = drizzle.contracts.PunkPrintRegistryMinter;\n    let purchaseFunc='';\n\n    if (purchaseType === 'pricePerPrintInWei' || purchaseType === 'pricePerPrintIntlShipInWei'){\n      purchaseFunc = 'purchasePrint'\n    } else if (purchaseType === 'pricePerNFCInWei' || purchaseType === 'pricePerNFCIntlShipInWei'){\n      purchaseFunc = 'purchaseNFCOnly'\n    } else {\n      purchaseFunc = 'purchaseMisc'\n    }\n\n  console.log(\"type: \"+purchaseType + \" Func: \"+ purchaseFunc);\n\n    const determineAmount = drizzleState.contracts.PunkPrintRegistry[purchaseType];\n    const amountToSend = determineAmount['0x0'].value;\n    console.log(\"sending \"+ amountToSend + \"contact \"+this.props.contactMethod + \"Punk \" + this.props.punkId+ \"using: \"+ purchaseFunc);\n\n    const creditPurchaseConcat = purchaseFunc + \" | \" + this.props.contactMethod;\n    const creditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];\n    const artCreditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.artIdToCreditsToSpend[this.props.artCreditsToUse];\n\n\n    if ((creditsToUse && creditsToUse.value>0)||(artCreditsToUse && artCreditsToUse.value>0)){\n      this.setState({creditSale:true})\n      stackId = contract2.methods['mint'].cacheSend(this.props.punkId,creditPurchaseConcat, {\n        from: drizzleState.accounts[0],\n        value: 0\n      });\n    } else {\n      stackId = contract1.methods[purchaseFunc].cacheSend(this.props.punkId,this.props.contactMethod, {\n        from: drizzleState.accounts[0],\n        value: amountToSend\n      });\n    }\n    // save the `stackId` for later reference\n    this.setState({ stackId });\n  };\n\n\n  getStatus(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackId];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n  }\n  }\n\n  getTokenId(){\n    const {transactions, transactionStack } = this.props.drizzleState;\n    const txHash = transactionStack[this.state.stackId];\n    if (!txHash) return null;\n    if (transactions[txHash]){\n      if (transactions[txHash].status==='success'){\n        if (this.state.creditSale){\n          const newTokenIdHex = transactions[txHash].receipt.events[0].raw.topics[3];\n          const newTokenId = parseInt(newTokenIdHex,16);\n          console.log('newTokenIdMint: ' + newTokenId);\n          if (!this.state.posted){\n          fetch('https://submit-form.com/-uaRdhfKwMjpOndrBC1Rn', {\n           method: 'POST',\n           headers: {\n              \"Content-Type\": \"application/json\",\n              Accept: \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Access-Control-Allow-Headers\" : \"Origin, X-Requested-With, Content-Type, Accept\"\n            },\n           body: JSON.stringify({\n             nft:\"Punk\",\n             contactMethod:this.props.contactMethod,\n             artId:this.props.punkId,\n             purchaseType:this.state.purchaseType,\n             shipType:this.state.shipType,\n             creditSale:true,\n             firstName:this.props.address.firstName,\n             lastName:this.props.address.lastName,\n             address1:this.props.address.address1,\n             address2:this.props.address.address2,\n             city:this.props.address.city,\n             state:this.props.address.stateProv,\n             country:this.props.address.country\n\n           }),\n         }).then(function(result){\n           console.log('data sent');\n           console.log(result);\n         });\n         this.setState({posted:true});\n       }\n          return newTokenId;\n        } else {\n      const newTokenId = transactions[txHash].receipt.events.Transfer.returnValues[2];\n      console.log('newTokenIdPurchase: '+newTokenId)\n      if (!this.state.posted){\n          fetch('https://submit-form.com/-uaRdhfKwMjpOndrBC1Rn', {\n           method: 'POST',\n           headers: {\n              \"Content-Type\": \"application/json\",\n              Accept: \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Access-Control-Allow-Headers\" : \"Origin, X-Requested-With, Content-Type, Accept\"\n            },\n           body: JSON.stringify({\n             nft:\"Punk\",\n             contactMethod:this.props.contactMethod,\n             artId:this.props.punkId,\n             purchaseType:this.state.purchaseType,\n             shipType:this.state.shipType,\n             creditSale:false,\n             firstName:this.props.address.firstName,\n             lastName:this.props.address.lastName,\n             address1:this.props.address.address1,\n             address2:this.props.address.address2,\n             city:this.props.address.city,\n             state:this.props.address.stateProv,\n             country:this.props.address.country\n\n           }),\n         }).then(function(result){\n           console.log('data sent');\n           console.log(result);\n         });\n         this.setState({posted:true});\n       }\n      return newTokenId;\n    }\n    } else {\n      return null;\n    }\n  }\n  }\n\n\n\n  render(){\n    const {contracts} = this.props.drizzle;\n\n    const { PunkPrintRegistry } = this.props.drizzleState.contracts;\n    const purchaseType = this.findPrice();\n    console.log(contracts);\n    console.log(this.props.drizzleState);\n    //console.log(PunkPrintRegistry);\n    //console.log(this.findPrice());\n\n    const pricePerPrintInWei = PunkPrintRegistry.pricePerPrintInWei['0x0'];\n    const pricePerPrintIntlShipInWei = PunkPrintRegistry.pricePerPrintIntlShipInWei['0x0'];\n    const pricePerNFCInWei = PunkPrintRegistry.pricePerNFCInWei['0x0'];\n    const pricePerNFCIntlShipInWei = PunkPrintRegistry.pricePerNFCIntlShipInWei['0x0'];\n    const pricePerMiscInWei = PunkPrintRegistry.pricePerMiscInWei['0x0'];\n    const pricePerMiscIntlShipInWei = PunkPrintRegistry.pricePerMiscIntlShipInWei['0x0'];\n\n    let priceObject = {pricePerPrintInWei: pricePerPrintInWei, pricePerPrintIntlShipInWei:pricePerPrintIntlShipInWei,pricePerNFCInWei:pricePerNFCInWei,pricePerNFCIntlShipInWei:pricePerNFCIntlShipInWei,pricePerMiscInWei:pricePerMiscInWei, pricePerMiscIntlShipInWei:pricePerMiscIntlShipInWei};\n    //if (this.findPrice()){ console.log(\"being bought: \"+ this.findPrice());}\n    let status = this.getStatus();\n    let tokenId = this.getTokenId();\n    let url = \"http://ppr.artblocks.io/details/\";\n    if (tokenId) {\n      url = url+tokenId;\n    }\n\n\n    const creditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];\n    const artCreditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.artIdToCreditsToSpend[this.props.artCreditsToUse];\n\n    if(creditsToUse){\n      console.log('ctu: '+creditsToUse.value);\n    }\n\n    if(artCreditsToUse){\n      console.log('art ctu: '+artCreditsToUse.value);\n    }\n\n    return (\n      <div className=\"container mt-5\">\n      <div className=\"jumbotron\">\n      <div>\n      <h1>Punk Print Registry Purchase Page</h1>\n      <br />\n      <h4><h4>Almost there!\n      <br />\n      Now you will choose your purchase options and complete the transaction for punk #{this.props.punkId}.</h4>\n      <br />\n      </h4>\n    <Canvas\n    punkId={this.props.punkId}\n    />\n    <br />\n    <br />\n    <p>There are two ways to proceed. You may purchase a 12\"x12\" (30.5x30.5cm) high quality digital print with attached authentication NFC\n    or if you already have a nice print you can simply buy the NFC sticker for authentications. </p>\n    <div className=\"alert alert-primary\" role=\"alert\">\n    <p>Please select one:</p>\n    <label><input type=\"radio\" name=\"purchaseType\" value=\"Print + NFC\" onChange={this.handleTypeRadio} />Purchase Print+NFC</label><br />\n    <label><input type=\"radio\" name=\"purchaseType\" value=\"NFC Only\" onChange={this.handleTypeRadio} />Purchase NFC Only</label>\n    </div>\n    {this.state.purchaseType &&\n      <div>\n      <h4>Purchase Type: {this.state.purchaseType}</h4>\n      <br />\n      <div className=\"alert alert-primary\" role=\"alert\">\n      <p>Now we need to know where this is going. Please select whether you are located in the USA or abroad. Item price will adjust accordingly.</p>\n      <label><input type=\"radio\" name=\"shipType\" value=\"Domestic\" onChange={this.handleShipRadio} />Domestic Shipping (within USA)</label><br />\n      <label><input type=\"radio\" name=\"shipType\" value=\"International\" onChange={this.handleShipRadio} />International Shipping</label>\n      </div>\n      {this.state.shipType &&\n      <div>\n      <h4>Shiping Type: {this.state.shipType}</h4>\n      <br />\n      <h4>Total: {((creditsToUse && creditsToUse.value>0)||(artCreditsToUse && artCreditsToUse.value>0)) ? 'FRE' : priceObject[this.findPrice()] && (web3.utils.fromWei(priceObject[this.findPrice()].value.toString(), 'ether'))}Ξ</h4>\n      <br />\n      <div className=\"alert alert-secondary\" role=\"alert\">\n      <b>Contact Method: {this.props.contactMethod}</b>\n      <br />\n      <br />\n      Shipping to:\n      <br />\n      {this.props.address.firstName} {this.props.address.lastName}\n      <br />\n      {this.props.address.address1}\n      <br />\n      {this.props.address.address2 &&\n        <div>\n        {this.props.address.address2}\n        <br />\n        </div>\n      }\n\n      {this.props.address.city}, {this.props.address.stateProv} {this.props.address.zip}\n      <br />\n      {this.props.address.country}\n      </div>\n\n      <br />\n      <button className=\"btn btn-success\" disabled = {status?true:false} onClick={() => {this.handlePurchase(purchaseType)}}>{status?status:'Purchase'}</button>\n      {status === 'success' &&\n    <div>\n    <h1>Congrats!</h1>\n    <h4>Your transaction is complete! Please reach out to info@artblocks.io or Snowfro#8886 on Discord using the recorded contact method\n    so we can get your package to you ASAP.</h4>\n    <br />\n    <h4>Your Print Registry TokenId for this transaction is {tokenId}. You can visit your authentication\n    page at <a href={url}>{url}</a>. Note that the NFC UID will be set manually at time of printing.</h4>\n    <p> You will be provided with a tracking number once your package has shipped. Please allow 1-2 weeks for delivery.</p>\n\n  </div>\n}\n      </div>\n    }\n      </div>\n    }\n    <br />\n    <br />\n    <button onClick = {status==='success'? this.handleStartOver : this.handleGoBack}>{status==='success'?'Start Over':'Go Back'}</button>\n    </div>\n    </div>\n    </div>\n  )\n  }\n\n}\n\nexport default Purchase;\n"]},"metadata":{},"sourceType":"module"}