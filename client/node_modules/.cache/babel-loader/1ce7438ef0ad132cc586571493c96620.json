{"ast":null,"code":"var _jsxFileName = \"/Users/Erick/Documents/Print Apps/punkprintapp/client/src/welcomeScreen.js\";\nimport React from \"react\";\nimport Welcome from \"./welcome\";\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass WelcomeScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stackId: null,\n      purchaseCredit: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleAddressChange = this.handleAddressChange.bind(this);\n    this.handleArtToCreditChange = this.handleArtToCreditChange.bind(this);\n    this.handleAddressCreditSendClick = this.handleAddressCreditSendClick.bind(this);\n    this.handleArtCreditSendClick = this.handleArtCreditSendClick.bind(this);\n    this.handleCreditSendClick2 = this.handleCreditSendClick2.bind(this);\n    this.handleCreditManagerAddressChange = this.handleCreditManagerAddressChange.bind(this);\n    this.handleCreditManagerCreditsToGive = this.handleCreditManagerCreditsToGive.bind(this);\n    this.handlePurchaseToggle = this.handlePurchaseToggle.bind(this);\n  }\n\n  handleAddressCreditSendClick() {\n    const _this$props = this.props,\n          drizzle = _this$props.drizzle,\n          drizzleState = _this$props.drizzleState;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n\n    if (this.state.purchaseCredit) {\n      const amountToSend = drizzleState.contracts.AvastarPrintRegistry.pricePerPrintIntlShipInWei['0x0'].value;\n      console.log('amount to send' + amountToSend);\n      const stackId = contract.methods['giveAddressCredit'].cacheSend(this.props.creditToAddress, {\n        from: drizzleState.accounts[0],\n        value: amountToSend\n      });\n      this.setState({\n        stackId\n      });\n    } else {\n      const stackId = contract.methods['giveAddressCredit'].cacheSend(this.props.creditToAddress, {\n        from: drizzleState.accounts[0],\n        value: 0\n      });\n      this.setState({\n        stackId\n      });\n    }\n  }\n\n  handleArtCreditSendClick() {\n    const _this$props2 = this.props,\n          drizzle = _this$props2.drizzle,\n          drizzleState = _this$props2.drizzleState;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n\n    if (this.state.purchaseCredit) {\n      const amountToSend = drizzleState.contracts.AvastarPrintRegistry.pricePerPrintIntlShipInWei['0x0'].value;\n      console.log('amount to send' + amountToSend);\n      const stackId = contract.methods['giveArtCredit'].cacheSend(this.props.creditToArt, {\n        from: drizzleState.accounts[0],\n        value: amountToSend\n      });\n      this.setState({\n        stackId\n      });\n    } else {\n      const stackId = contract.methods['giveArtCredit'].cacheSend(this.props.creditToArt, {\n        from: drizzleState.accounts[0],\n        value: 0\n      });\n      this.setState({\n        stackId\n      });\n    }\n  }\n\n  handleCreditSendClick2() {\n    const _this$props3 = this.props,\n          drizzle = _this$props3.drizzle,\n          drizzleState = _this$props3.drizzleState;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    const stackId = contract.methods['setManagerCredits'].cacheSend(this.props.creditManagerAddressToCredit, this.props.creditManagerCreditsToGive, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackId\n    });\n  }\n\n  handlePurchaseToggle() {\n    this.setState({\n      purchaseCredit: !this.state.purchaseCredit\n    });\n  }\n\n  getStatus() {\n    const _this$props$drizzleSt = this.props.drizzleState,\n          transactions = _this$props$drizzleSt.transactions,\n          transactionStack = _this$props$drizzleSt.transactionStack; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackId]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  handleClick() {\n    this.props.handleWelcomeChange(1);\n  }\n\n  handleAddressChange(event) {\n    this.props.setCreditToAddress(event.target.value);\n  }\n\n  handleArtToCreditChange(event) {\n    this.props.setCreditToArt(event.target.value);\n  }\n\n  handleCreditManagerAddressChange(event) {\n    this.props.setCreditManagerAddressToCredit(event.target.value);\n  }\n\n  handleCreditManagerCreditsToGive(event) {\n    this.props.setCreditManagerCreditsToGive(event.target.value);\n  }\n\n  render() {\n    let isOwner;\n    const PunkPrintRegistry = this.props.drizzleState.contracts.PunkPrintRegistry;\n    const pricePerPrintIntlShipInWei = PunkPrintRegistry.pricePerPrintIntlShipInWei['0x0'];\n    const creditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];\n    const creditsToGive = this.props.drizzleState.contracts.PunkPrintRegistryMinter.managerAddressToCreditsToGive[this.props.creditsToGiveKey];\n    const owner1 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner1[this.props.owner1Key];\n    const owner2 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.printerAddress[this.props.owner2Key];\n\n    if (creditsToUse && creditsToGive) {\n      console.log(creditsToUse.value, creditsToGive.value);\n    }\n\n    if (owner1 && owner2) {\n      isOwner = this.props.drizzleState.accounts[0] === owner1.value || this.props.drizzleState.accounts[0] === owner2.value;\n      console.log('isOwner? ' + isOwner);\n    }\n\n    let status = this.getStatus();\n    const transactionStack = this.props.drizzleState.transactionStack;\n    const txHash = transactionStack[this.state.stackId];\n    let url = 'https://www.etherscan.io/tx/' + txHash;\n    console.log('to: ' + this.props.creditToAddress);\n    return React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info btn-small btn-block text-light mb-2\",\n      onClick: this.handlePurchaseToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Purchase Print Credits\"))), this.state.purchaseCredit && React.createElement(\"div\", {\n      className: \"p-3 mb-2 bg-info text-white rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"You can purchase print credits for an Ethereum address or an individual Punk for \", pricePerPrintIntlShipInWei && web3.utils.fromWei(pricePerPrintIntlShipInWei.value.toString(), 'ether'), \"\\u039E each.\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Credits can only go towards a print. No \\\"NFC Only\\\" credits exist.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Price of a credit is based on international shipping pricing.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Orders shipped within the USA are entitled to 80% (0.04\\u039E) refund of international shipping charges.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Purchaser can revoke a credit within 120 days of purchase and receive an 80% refund of the purchase price.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Credits never expire, but no refunds will be granted after 120 days of purchase.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"All refunds are processed manually in order to avoid storage of funds in minting contract.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Contact info@artblocks.io for support.\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"address-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Recipient Address\")), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"0x...\",\n      \"aria-label\": \"Address\",\n      \"aria-describedby\": \"address-wrapping\",\n      onChange: this.handleAddressChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleAddressCreditSendClick,\n      disabled: status === \"pending\" ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, !status ? 'Send' : status === \"success\" ? 'Success! Send another.' : status), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"address-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Punk ID\")), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"...\",\n      \"aria-label\": \"Address\",\n      \"aria-describedby\": \"address-wrapping\",\n      onChange: this.handleArtToCreditChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleArtCreditSendClick,\n      disabled: status === \"pending\" ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, !status ? 'Send' : status === \"success\" ? 'Success! Send another.' : status), status === 'success' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Credit has been applied. Your TXID is: \", txHash, \". View a receipt of your transaction \", React.createElement(\"a\", {\n      href: url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"here\"), \".\"))), isOwner && React.createElement(\"div\", {\n      className: \"p-3 mb-2 bg-info text-white rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Assign Print Credits to Manager\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"address-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Manager Address\")), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"0x...\",\n      \"aria-label\": \"Manager Address\",\n      \"aria-describedby\": \"address-wrapping\",\n      onChange: this.handleCreditManagerAddressChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"credits-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Credits\")), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Credits\",\n      \"aria-label\": \"Credits\",\n      \"aria-describedby\": \"credits-wrapping\",\n      onChange: this.handleCreditManagerCreditsToGive,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleCreditSendClick2,\n      disabled: status === \"pending\" ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, !status ? 'Send' : status === \"success\" ? 'Success! Send another.' : status), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }))), creditsToGive && creditsToGive.value > 0 && React.createElement(\"div\", {\n      className: \"p-3 mb-2 bg-info text-white rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, creditsToGive.value > 0 ? React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"You have \", creditsToGive.value, \" print \", creditsToGive.value > 1 ? 'credits' : 'credit', \"  to give!\") : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Assign Print Credits to User or Punk\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"You can assign your credits to an address or a specific Punk.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"address-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Recipient Address\")), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"0x...\",\n      \"aria-label\": \"Address\",\n      \"aria-describedby\": \"address-wrapping\",\n      onChange: this.handleAddressChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleAddressCreditSendClick,\n      disabled: status === \"pending\" ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, !status ? 'Send' : status === \"success\" ? 'Success! Send another.' : status), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group flex-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"address-wrapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Punk ID\")), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"...\",\n      \"aria-label\": \"Address\",\n      \"aria-describedby\": \"address-wrapping\",\n      onChange: this.handleArtToCreditChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleArtCreditSendClick,\n      disabled: status === \"pending\" ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, !status ? 'Send' : status === \"success\" ? 'Success! Send another.' : status)), creditsToUse && creditsToUse.value > 0 && React.createElement(\"div\", {\n      className: \"p-3 mb-2 bg-info text-white rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"You have \", creditsToUse.value, \" \", creditsToUse.value > 1 ? 'credits' : 'credit', \" to use! \"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"When you get to the purchase page you'll be able to use this credit towards a free print.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }))), React.createElement(Welcome, {\n      drizzle: this.props.drizzle,\n      drizzleState: this.props.drizzleState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-center mb-5 pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: \"btn btn-primary btn-lg text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Click Here To Get Started\")))));\n  }\n\n}\n\nexport default WelcomeScreen;","map":{"version":3,"sources":["/Users/Erick/Documents/Print Apps/punkprintapp/client/src/welcomeScreen.js"],"names":["React","Welcome","Web3","web3","givenProvider","WelcomeScreen","Component","constructor","props","state","stackId","purchaseCredit","handleClick","bind","handleAddressChange","handleArtToCreditChange","handleAddressCreditSendClick","handleArtCreditSendClick","handleCreditSendClick2","handleCreditManagerAddressChange","handleCreditManagerCreditsToGive","handlePurchaseToggle","drizzle","drizzleState","contract","contracts","PunkPrintRegistryMinter","amountToSend","AvastarPrintRegistry","pricePerPrintIntlShipInWei","value","console","log","methods","cacheSend","creditToAddress","from","accounts","setState","creditToArt","creditManagerAddressToCredit","creditManagerCreditsToGive","getStatus","transactions","transactionStack","txHash","status","handleWelcomeChange","event","setCreditToAddress","target","setCreditToArt","setCreditManagerAddressToCredit","setCreditManagerCreditsToGive","render","isOwner","PunkPrintRegistry","creditsToUse","addressToCreditsToSpend","creditsToUseKey","creditsToGive","managerAddressToCreditsToGive","creditsToGiveKey","owner1","owner1Key","owner2","printerAddress","owner2Key","url","utils","fromWei","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Welcome from \"./welcome\";\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass WelcomeScreen extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {stackId:null, purchaseCredit:false};\n    this.handleClick = this.handleClick.bind(this);\n    this.handleAddressChange = this.handleAddressChange.bind(this);\n    this.handleArtToCreditChange = this.handleArtToCreditChange.bind(this);\n    this.handleAddressCreditSendClick = this.handleAddressCreditSendClick.bind(this);\n    this.handleArtCreditSendClick = this.handleArtCreditSendClick.bind(this);\n    this.handleCreditSendClick2 = this.handleCreditSendClick2.bind(this);\n    this.handleCreditManagerAddressChange = this.handleCreditManagerAddressChange.bind(this);\n    this.handleCreditManagerCreditsToGive = this.handleCreditManagerCreditsToGive.bind(this);\n    this.handlePurchaseToggle = this.handlePurchaseToggle.bind(this);\n\n  }\n\n  handleAddressCreditSendClick(){\n    const {drizzle, drizzleState} = this.props;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    if (this.state.purchaseCredit){\n      const amountToSend = drizzleState.contracts.AvastarPrintRegistry.pricePerPrintIntlShipInWei['0x0'].value;\n      console.log('amount to send' + amountToSend);\n      const stackId = contract.methods['giveAddressCredit'].cacheSend(this.props.creditToAddress, {\n        from: drizzleState.accounts[0],\n        value: amountToSend\n      });\n      this.setState({ stackId });\n    } else {\n    const stackId = contract.methods['giveAddressCredit'].cacheSend(this.props.creditToAddress, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({ stackId });\n  }\n}\n\n  handleArtCreditSendClick(){\n    const {drizzle, drizzleState} = this.props;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    if (this.state.purchaseCredit){\n      const amountToSend = drizzleState.contracts.AvastarPrintRegistry.pricePerPrintIntlShipInWei['0x0'].value;\n      console.log('amount to send' + amountToSend);\n      const stackId = contract.methods['giveArtCredit'].cacheSend(this.props.creditToArt, {\n        from: drizzleState.accounts[0],\n        value: amountToSend\n      });\n      this.setState({ stackId });\n    } else {\n    const stackId = contract.methods['giveArtCredit'].cacheSend(this.props.creditToArt, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({ stackId });\n  }\n}\n\n  handleCreditSendClick2(){\n    const {drizzle, drizzleState} = this.props;\n    const contract = drizzle.contracts.PunkPrintRegistryMinter;\n    const stackId = contract.methods['setManagerCredits'].cacheSend(this.props.creditManagerAddressToCredit, this.props.creditManagerCreditsToGive, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({ stackId });\n  }\n\n  handlePurchaseToggle(){\n    this.setState({purchaseCredit:!this.state.purchaseCredit});\n  }\n\n  getStatus(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackId];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n  }\n  }\n\n  handleClick(){\n\n  this.props.handleWelcomeChange(1);\n\n  }\n\n  handleAddressChange(event){\n    this.props.setCreditToAddress(event.target.value);\n  }\n\n  handleArtToCreditChange(event){\n    this.props.setCreditToArt(event.target.value);\n  }\n\n  handleCreditManagerAddressChange(event){\n    this.props.setCreditManagerAddressToCredit(event.target.value);\n  }\n\n  handleCreditManagerCreditsToGive(event){\n    this.props.setCreditManagerCreditsToGive(event.target.value);\n  }\n\nrender(){\n  let isOwner;\n\n\n  const { PunkPrintRegistry } = this.props.drizzleState.contracts;\n  const pricePerPrintIntlShipInWei = PunkPrintRegistry.pricePerPrintIntlShipInWei['0x0'];\n  const creditsToUse = this.props.drizzleState.contracts.PunkPrintRegistryMinter.addressToCreditsToSpend[this.props.creditsToUseKey];\n  const creditsToGive = this.props.drizzleState.contracts.PunkPrintRegistryMinter.managerAddressToCreditsToGive[this.props.creditsToGiveKey];\n  const owner1 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.owner1[this.props.owner1Key];\n  const owner2 = this.props.drizzleState.contracts.PunkPrintRegistryMinter.printerAddress[this.props.owner2Key];\n  if(creditsToUse && creditsToGive){\n    console.log(creditsToUse.value, creditsToGive.value);\n  }\n\n  if(owner1 && owner2){\n    isOwner = this.props.drizzleState.accounts[0]===owner1.value || this.props.drizzleState.accounts[0]===owner2.value;\n  console.log('isOwner? '+isOwner);\n  }\n\n    let status = this.getStatus();\n    const {transactionStack } = this.props.drizzleState;\n    const txHash = transactionStack[this.state.stackId];\n    let url = 'https://www.etherscan.io/tx/'+txHash;\n\n  console.log('to: '+this.props.creditToAddress);\n\n\n  return(\n\n  <div className=\"container mt-5\">\n  <div className=\"jumbotron\">\n    <div>\n    <div >\n    <div className=\"row\">\n    <div className=\"col text-center\">\n      <button className=\"btn btn-info btn-small btn-block text-light mb-2\" onClick={this.handlePurchaseToggle}>Purchase Print Credits</button>\n    </div>\n  </div>\n\n  {this.state.purchaseCredit &&\n    <div className=\"p-3 mb-2 bg-info text-white rounded\">\n    <h4>You can purchase print credits for an Ethereum address or an individual Punk for {pricePerPrintIntlShipInWei && (web3.utils.fromWei((pricePerPrintIntlShipInWei.value).toString(), 'ether'))}Ξ each.</h4>\n    <ul>\n    <li>Credits can only go towards a print. No \"NFC Only\" credits exist.</li>\n    <li>Price of a credit is based on international shipping pricing.</li>\n    <li>Orders shipped within the USA are entitled to 80% (0.04Ξ) refund of international shipping charges.</li>\n    <li>Purchaser can revoke a credit within 120 days of purchase and receive an 80% refund of the purchase price.</li>\n    <li>Credits never expire, but no refunds will be granted after 120 days of purchase.</li>\n    <li>All refunds are processed manually in order to avoid storage of funds in minting contract.</li>\n    <li>Contact info@artblocks.io for support.</li>\n    </ul>\n    <br />\n    <div className=\"input-group flex-nowrap\">\n    <div className=\"input-group-prepend\">\n    <span className=\"input-group-text\" id=\"address-wrapping\">Recipient Address</span>\n    </div>\n\n    <input type=\"text\" className=\"form-control\" placeholder=\"0x...\" aria-label=\"Address\" aria-describedby=\"address-wrapping\" onChange={this.handleAddressChange} />\n    </div>\n\n\n    <button className=\"btn btn-primary\" onClick={this.handleAddressCreditSendClick} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n    <br />\n    <br />\n    <div className=\"input-group flex-nowrap\">\n    <div className=\"input-group-prepend\">\n    <span className=\"input-group-text\" id=\"address-wrapping\">Punk ID</span>\n    </div>\n\n    <input type=\"number\" className=\"form-control\" placeholder=\"...\" aria-label=\"Address\" aria-describedby=\"address-wrapping\" onChange={this.handleArtToCreditChange} />\n    </div>\n\n\n    <button className=\"btn btn-primary\" onClick={this.handleArtCreditSendClick} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n\n    {status === 'success' &&\n    <div>\n    <h4>Credit has been applied. Your TXID is: {txHash}. View a receipt of your transaction <a href={url}>here</a>.</h4>\n    </div>\n\n  }\n    </div>\n\n\n\n  }\n\n    {isOwner &&\n      <div className=\"p-3 mb-2 bg-info text-white rounded\">\n      <div >\n\n      <h1>Assign Print Credits to Manager</h1>\n      <br />\n\n      <div className=\"input-group flex-nowrap\">\n      <div className=\"input-group-prepend\">\n      <span className=\"input-group-text\" id=\"address-wrapping\">Manager Address</span>\n      </div>\n\n      <input type=\"text\" className=\"form-control\" placeholder=\"0x...\" aria-label=\"Manager Address\" aria-describedby=\"address-wrapping\" onChange={this.handleCreditManagerAddressChange} />\n      </div>\n\n      <div className=\"input-group flex-nowrap\">\n      <div className=\"input-group-prepend\">\n      <span className=\"input-group-text\" id=\"credits-wrapping\">Credits</span>\n      </div>\n\n      <input type=\"number\" className=\"form-control\" placeholder=\"Credits\" aria-label=\"Credits\" aria-describedby=\"credits-wrapping\" onChange={this.handleCreditManagerCreditsToGive} />\n      </div>\n\n\n\n      <button className=\"btn btn-primary\" onClick={this.handleCreditSendClick2} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n      <br />\n      <br />\n\n      </div>\n      </div>\n    }\n    {creditsToGive && creditsToGive.value>0 &&\n    <div className=\"p-3 mb-2 bg-info text-white rounded\">\n\n    {creditsToGive.value>0? <h1>You have {creditsToGive.value} print {creditsToGive.value>1?'credits':'credit'}  to give!</h1>:<h1>Assign Print Credits to User or Punk</h1>}\n    <h4>You can assign your credits to an address or a specific Punk.</h4>\n    <br />\n    <div className=\"input-group flex-nowrap\">\n    <div className=\"input-group-prepend\">\n    <span className=\"input-group-text\" id=\"address-wrapping\">Recipient Address</span>\n    </div>\n\n    <input type=\"text\" className=\"form-control\" placeholder=\"0x...\" aria-label=\"Address\" aria-describedby=\"address-wrapping\" onChange={this.handleAddressChange} />\n    </div>\n\n\n    <button className=\"btn btn-primary\" onClick={this.handleAddressCreditSendClick} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n    <br />\n    <br />\n    <div className=\"input-group flex-nowrap\">\n    <div className=\"input-group-prepend\">\n    <span className=\"input-group-text\" id=\"address-wrapping\">Punk ID</span>\n    </div>\n\n    <input type=\"number\" className=\"form-control\" placeholder=\"...\" aria-label=\"Address\" aria-describedby=\"address-wrapping\" onChange={this.handleArtToCreditChange} />\n    </div>\n\n\n  <button className=\"btn btn-primary\" onClick={this.handleArtCreditSendClick} disabled = {status===\"pending\"?true:false}>{!status?'Send':status===\"success\"?'Success! Send another.':status}</button>\n\n    </div>\n    }\n    {creditsToUse && creditsToUse.value>0 &&\n    <div className=\"p-3 mb-2 bg-info text-white rounded\">\n\n    <h1>You have {creditsToUse.value} {creditsToUse.value>1?'credits':'credit'} to use! </h1>\n    <h4>When you get to the purchase page you'll be able to use this credit towards a free print.</h4>\n    <br />\n    <br />\n\n\n    </div>\n    }\n    </div>\n    <Welcome\n    drizzle={this.props.drizzle}\n    drizzleState={this.props.drizzleState}\n\n    />\n    <div className=\"text-center mb-5 pb-5\">\n      <button onClick = {this.handleClick} className=\"btn btn-primary btn-lg text-center\">Click Here To Get Started</button>\n    </div>\n    </div>\n  </div>\n  </div>\n\n  )\n}\n}\n\nexport default WelcomeScreen;\n"]},"metadata":{},"sourceType":"module"}